{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/home/Home.js","hooks/useCollection.js","hooks/useLogin.js","pages/login/Login.js","hooks/useSignup.js","pages/signup/Signup.js","hooks/useLogout.js","components/Navbar.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","initialState","document","isPending","error","success","firestoreReducer","useFirestore","collection","response","useState","isCancelled","setIsCancelled","ref","dispatchIfNotCancelled","addDocument","doc","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","id","delete","TransactionForm","uid","name","setName","amount","setAmount","onSubmit","e","preventDefault","required","onChange","target","TransactionList","transactions","className","styles","map","transaction","onClick","Home","_query","_orderBy","documents","setDocuments","setError","query","useRef","current","orderBy","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","push","data","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","displayName","setDisplayName","signup","createUserWithEmailAndPassword","updateProfile","useSignup","Navbar","logout","a","signOut","useLogout","navbar","title","to","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.52cd825d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3bftD\",\"content\":\"Home_content__18qU0\",\"sidebar\":\"Home_sidebar__21xz5\",\"transactions\":\"Home_transactions__3_tqr\",\"name\":\"Home_name__4a_Tj\",\"amount\":\"Home_amount__1MW_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD5NU6NTRsnt4dg2kFA5RxWkaM_PSbp6Ug',\n  authDomain: 'react-finance-tracker-64f25.firebaseapp.com',\n  projectId: 'react-finance-tracker-64f25',\n  storageBucket: 'react-finance-tracker-64f25.appspot.com',\n  messagingSenderId: '1098735872131',\n  appId: '1:1098735872131:web:ab66984c8090b3bd7353b6',\n};\n\n//init firebase\nfirebase.initializeApp(firebaseConfig);\n\n//init services\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\n\n//timestamp\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { projectFirestore, projectAuth, timestamp };\n","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","import { useReducer, useEffect, useState } from 'react';\nimport { projectFirestore, timestamp } from '../firebase/config';\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n};\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { success: false, isPending: true, error: null, document: null };\n    case 'ERROR':\n      return {\n        success: false,\n        isPending: false,\n        error: action.payload,\n        document: null,\n      };\n    case 'ADDED_DOCUMENT':\n      return {\n        success: true,\n        isPending: false,\n        error: null,\n        document: action.payload,\n      };\n    case 'DELETED_DOCUMENT':\n      return {\n        isPending: false,\n        document: null,\n        success: true,\n        error: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  // collection ref\n  const ref = projectFirestore.collection(collection);\n\n  // only dispatch if not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  };\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' });\n\n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({\n        type: 'ADDED_DOCUMENT',\n        payload: addedDocument,\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message });\n    }\n  };\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' });\n\n    try {\n      await ref.doc(id).delete();\n      dispatchIfNotCancelled({\n        type: 'DELETED_DOCUMENT',\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' });\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { addDocument, deleteDocument, response };\n};\n","import { useState, useEffect } from 'react'\nimport { useFirestore } from '../../hooks/useFirestore'\n\nexport default function TransactionForm({ uid }) {\n  const [name, setName] = useState('')\n  const [amount, setAmount] = useState('')\n  const { addDocument, response } = useFirestore('transactions')\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    addDocument({\n      uid, \n      name, \n      amount,\n    })\n  }\n\n  // reset the form fields\n  useEffect(() => {\n    if (response.success) {\n      setName('')\n      setAmount('')\n    }\n  }, [response.success])\n\n  return (\n    <>\n      <h3>Add a Transaction</h3>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Transaction name:</span>\n          <input \n            type=\"text\"\n            required\n            onChange={(e) => setName(e.target.value)} \n            value={name} \n          />\n        </label>\n        <label>\n          <span>Amount ($):</span>\n          <input\n            type=\"number\"\n            required\n            onChange={(e) => setAmount(e.target.value)} \n            value={amount} \n          />\n        </label>\n        <button>Add Transaction</button>\n      </form>\n    </>\n  )\n}","import { useFirestore } from '../../hooks/useFirestore';\nimport styles from './Home.module.css';\n\nexport default function TransactionList({ transactions }) {\n  const { deleteDocument, response } = useFirestore('transactions');\n\n  return (\n    <ul className={styles.transactions}>\n      {transactions.map((transaction) => (\n        <li key={transaction.id}>\n          <p className={styles.name}>{transaction.name}</p>\n          <p className={styles.amount}>${transaction.amount}</p>\n          <button onClick={() => deleteDocument(transaction.id)}>x</button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { useAuthContext } from '../../hooks/useAuthContext';\nimport { useCollection } from '../../hooks/useCollection';\n\n// styles\nimport styles from './Home.module.css';\n\n// components\nimport TransactionForm from './TransactionForm';\nimport TransactionList from './TransactionList';\n\nexport default function Home() {\n  const { user } = useAuthContext();\n  const { documents, error } = useCollection(\n    'transactions',\n    ['uid', '==', user.uid],\n    ['createdAt', 'desc']\n  );\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        {error && <p>{error}</p>}\n        {documents && <TransactionList transactions={documents} />}\n      </div>\n      <div className={styles.sidebar}>\n        <TransactionForm uid={user.uid} />\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState, useRef } from 'react';\nimport { projectFirestore } from '../firebase/config';\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n\n  //_query is an array (reference type), so it is \"different\" on every function call -> so we have to use useRef to \"freeze\" it\n  const query = useRef(_query).current;\n  const orderBy = useRef(_orderBy).current;\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection);\n\n    if (query) {\n      ref = ref.where(...query);\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy);\n    }\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        let results = [];\n        snapshot.docs.forEach((doc) => {\n          console.log(doc);\n          results.push({ ...doc.data(), id: doc.id });\n        });\n\n        // update state\n        setDocuments(results);\n        setError(null);\n      },\n      (error) => {\n        console.log(error);\n        setError('could not fetch the data');\n      }\n    );\n\n    // unsubscribe on unmount\n    return () => unsubscribe();\n  }, [collection, query, orderBy]);\n\n  return { documents, error };\n};\n","import { useState, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}","import { useState } from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n\n// styles\nimport styles from './Login.module.css'\n\nexport default function Login() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const { login, error, isPending } = useLogin()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\n      <h2>login</h2>\n      <label>\n        <span>email:</span>\n        <input \n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input \n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)} \n          value={password} \n        />\n      </label>\n      { !isPending && <button className=\"btn\">Login</button> }\n      { isPending && <button className=\"btn\" disabled>loading</button> }\n      { error && <p>{error}</p> }\n    </form>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const signup = async (email, password, displayName) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n\n      // add display name to user\n      await res.user.updateProfile({ displayName })\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { signup, error, isPending }\n}","import { useState } from 'react'\nimport { useSignup } from '../../hooks/useSignup'\n\n// styles\nimport styles from './Signup.module.css'\n\nexport default function Signup() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n  const { signup, isPending, error } = useSignup()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signup(email, password, displayName)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['signup-form']}>\n      <h2>sign up</h2>\n      <label>\n        <span>email:</span>\n        <input \n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input \n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)} \n          value={password} \n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input \n          type=\"text\" \n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      { !isPending && <button className=\"btn\">sign up</button> }\n      { isPending && <button className=\"btn\" disabled>loading</button> }\n      { error && <p>{error}</p> }\n    </form>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  \n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n\n    try {\n      // sign the user out\n      await projectAuth.signOut()\n      \n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      } \n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { logout, error, isPending }\n}","import { Link } from \"react-router-dom\"\nimport { useAuthContext } from \"../hooks/useAuthContext\"\nimport { useLogout } from '../hooks/useLogout'\n\n// styles\nimport styles from './Navbar.module.css'\n\nexport default function Navbar() {\n  const { logout } = useLogout()\n  const { user } = useAuthContext()\n\n  return (\n    <nav className={styles.navbar}>\n      <ul>\n        <li className={styles.title}>myMoney</li>\n        \n        {!user && (\n          <>\n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/signup\">Signup</Link></li>\n          </>\n        )}\n\n        {user && (\n          <>\n            <li>hello, {user.displayName}</li>\n            <li>\n              <button className=\"btn\" onClick={logout}>Logout</button>\n            </li>\n          </>\n        )}\n      </ul>\n    </nav>\n  )\n}\n","import { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\nimport { useAuthContext } from './hooks/useAuthContext'\n\n// pages & components\nimport Home from './pages/home/Home'\nimport Login from './pages/login/Login'\nimport Signup from './pages/signup/Signup'\nimport Navbar from './components/Navbar'\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\">\n              {!user && <Redirect to=\"/login\" />}\n              {user && <Home />}\n            </Route>\n            <Route path=\"/login\">\n              {user && <Redirect to=\"/\" />}\n              {!user && <Login />}\n            </Route>\n            <Route path=\"/signup\">\n              {user && user.displayName && <Redirect to=\"/\" />}\n              {!user && <Signup />}\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}